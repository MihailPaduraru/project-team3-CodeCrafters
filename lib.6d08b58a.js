function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequired7c6=i),i("2YGUk"),i("iyKJU"),i("kyRuT");var n=i("fb9GJ");const o=localStorage.getItem("id-user");function l(){const t={totalItems:o?JSON.parse(localStorage.getItem("WatchedFb")):JSON.parse(localStorage.getItem("watched")).watched.length,itemsPerPage:9,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new(e(n))("pagination",t).on("afterMove",(async function(e){u(),H("watched",e.page),window.scrollTo({top:0,behavior:"smooth"})})),d(),t.totalItems<=9&&r()}function c(){const t={totalItems:o?JSON.parse(localStorage.getItem("QueueFb")):JSON.parse(localStorage.getItem("watched")).queue.length,itemsPerPage:9,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new(e(n))("pagination",t).on("afterMove",(async function(e){u(),H("queue",e.page),window.scrollTo({top:0,behavior:"smooth"})})),d(),t.totalItems<=9&&r()}function r(){document.querySelector("#pagination").classList.add("visually-hidden")}function d(){document.querySelector("#pagination").classList.remove("visually-hidden")}function u(){refs.list.innerHTML=""}var p=i("dSs1Y");const g=document.querySelector(".movie-list"),f=document.querySelector(".movie-popular-lib"),m=document.querySelector(".bacground-lib"),v=document.querySelector(".button-watched"),y=document.querySelector(".button-queue");v.addEventListener("click",L),y.addEventListener("click",S);const h=localStorage.getItem("id-user");let b=[],w=[];async function L(){let e;if(H("watched",1),l(),h)try{e=await getWatchedFb(h),0===e.length?(g.innerHTML="",f.classList.add("non-display"),m.classList.remove("non-display")):(f.classList.remove("non-display"),m.classList.add("non-display")),v.classList.add("button--lib-active"),y.classList.remove("button--lib-active"),v.dataset.active=!0,y.dataset.active=!1}catch(e){console.log(e)}else e=JSON.parse(localStorage.getItem("watched")).watched,0===e.length?(g.innerHTML="",f.classList.add("non-display"),m.classList.remove("non-display")):(f.classList.remove("non-display"),m.classList.add("non-display")),v.classList.add("button--lib-active"),y.classList.remove("button--lib-active"),v.dataset.active=!0,y.dataset.active=!1}async function S(){let e;if(H("queue",1),c(),h)try{e=await getQueueFb(h),0===e.length?(g.innerHTML="",f.classList.add("non-display"),m.classList.remove("non-display")):(f.classList.remove("non-display"),m.classList.add("non-display")),y.classList.add("button--lib-active"),v.classList.remove("button--lib-active"),y.dataset.active=!0,v.dataset.active=!1}catch(e){console.log(e)}else e=JSON.parse(localStorage.getItem("watched")).queue,0===e.length?(g.innerHTML="",f.classList.add("non-display"),m.classList.remove("non-display")):(f.classList.remove("non-display"),m.classList.add("non-display")),y.classList.add("button--lib-active"),v.classList.remove("button--lib-active"),y.dataset.active=!0,v.dataset.active=!1}async function H(e,t){let a;if(h)try{a="watched"===e?await getWatchedFb(h):await getQueueFb(h);let s=20*t-20;const i=20*t;1===t&&(s=0);const n=a.slice(s,i).join("");g.innerHTML=n}catch(e){console.log(e)}else{a=JSON.parse(localStorage.getItem("watched"))[e];let s=20*t-20;const i=20*t;1===t&&(s=0);const n=a.slice(s,i).join("");g.innerHTML=n}}!async function(){if(h)try{p.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),w=await getWatchedFb(h),b=await getQueueFb(h),0===w.length?S():L(),p.Loading.remove(2e3)}catch(e){p.Loading.remove(2e3),console.log(e)}else w=JSON.parse(localStorage.getItem("watched")).watched,b=JSON.parse(localStorage.getItem("watched")).queue,0===w.length?S():L()}();
//# sourceMappingURL=lib.6d08b58a.js.map
