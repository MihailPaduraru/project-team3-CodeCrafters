{"mappings":"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","sources":["src/lib-index.js","src/js/pagination-lib.js","src/js/lib.js"],"sourcesContent":["import './js/scroll';\nimport './js/components/change-theme';\nimport './js/spiner';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './js/lib';\nimport './js/pagination-lib';\n\n","import Pagination from 'tui-pagination';\nimport { getWatched } from './lib';\n\n\nconst localUserId = localStorage.getItem('id-user');\n\nexport function paginationWatchid() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('WatchedFb'))\n      : JSON.parse(localStorage.getItem('watched')).watched.length,\n    itemsPerPage: 9,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('watched', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 9) {\n    addHiddenPagination();\n  }\n}\n\nexport function paginationQueue() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('QueueFb'))\n      : JSON.parse(localStorage.getItem('watched')).queue.length,\n    itemsPerPage: 9,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('queue', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 9) {\n    addHiddenPagination();\n  }\n}\n\n\nexport function addHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.add('visually-hidden');\n}\n\nexport function removeHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.remove('visually-hidden');\n}\n\nfunction resetGallery() {\n  refs.list.innerHTML = '';\n}\n","\n\nimport { paginationWatchid, paginationQueue } from './pagination-lib';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst listWatched = document.querySelector('.movie-list');\nconst libSection = document.querySelector('.movie-popular-lib');\nconst bacgroundLib = document.querySelector('.bacground-lib');\n\nconst btnWatched = document.querySelector('.button-watched');\nconst btnQueue = document.querySelector('.button-queue');\n\nbtnWatched.addEventListener('click', rWatched);\n\nbtnQueue.addEventListener('click', rQueue);\n\nconst localUserId = localStorage.getItem('id-user');\nlet localQueue = [];\nlet localWatched = [];\n\ngetOnlineOrOfflineStorage();\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      localWatched = await getWatchedFb(localUserId);\n      localQueue = await getQueueFb(localUserId);\n      if (localWatched.length === 0) {\n        rQueue();\n      } else {\n        rWatched();\n      }\n      Loading.remove(2000);\n    } catch (error) {\n      Loading.remove(2000);\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localWatched.length === 0) {\n      rQueue();\n    } else {\n      rWatched();\n    }\n  }\n}\n\nexport async function rWatched() {\n  getWatched('watched', 1);\n  paginationWatchid();\n  let localWatched;\n  if (localUserId) {\n    try {\n      localWatched = await getWatchedFb(localUserId);\n\n      if (localWatched.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnWatched.classList.add('button--lib-active');\n      btnQueue.classList.remove('button--lib-active');\n\n      btnWatched.dataset.active = true;\n      btnQueue.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n\n    if (localWatched.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnWatched.classList.add('button--lib-active');\n    btnQueue.classList.remove('button--lib-active');\n\n    btnWatched.dataset.active = true;\n    btnQueue.dataset.active = false;\n  }\n}\n\nexport async function rQueue() {\n  getWatched('queue', 1);\n  paginationQueue();\n\n  let localQueue;\n\n  if (localUserId) {\n    try {\n      localQueue = await getQueueFb(localUserId);\n      if (localQueue.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnQueue.classList.add('button--lib-active');\n      btnWatched.classList.remove('button--lib-active');\n\n      btnQueue.dataset.active = true;\n      btnWatched.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localQueue.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnQueue.classList.add('button--lib-active');\n    btnWatched.classList.remove('button--lib-active');\n\n    btnQueue.dataset.active = true;\n    btnWatched.dataset.active = false;\n  }\n}\n\nexport async function getWatched(name, page) {\n  let localWatched;\n  if (localUserId) {\n    try {\n      if (name === 'watched') {\n        localWatched = await getWatchedFb(localUserId);\n      } else {\n        localWatched = await getQueueFb(localUserId);\n      }\n      let begin = 20 * page - 20;\n      const end = 20 * page;\n      if (page === 1) {\n        begin = 0;\n      }\n\n      const slice = localWatched.slice(begin, end).join('');\n      listWatched.innerHTML = slice;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched'))[name];\n\n    let begin = 20 * page - 20;\n    const end = 20 * page;\n    if (page === 1) {\n      begin = 0;\n    }\n\n    const slice = localWatched.slice(begin, end).join('');\n    listWatched.innerHTML = slice;\n  }\n\n  // console.log(localWatched);\n}\n\nfunction add () {\n  addEventListener ( 'click ' , onFire())\n\n} \n "],"names":["parcelRequire","$fb9GJ","$903aa851c660180a$var$localUserId","localStorage","getItem","$903aa851c660180a$export$1f300efe7f5bc4b6","optionsPop","totalItems","JSON","parse","watched","length","itemsPerPage","visiblePages","window","screen","width","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$parcel$interopDefault","on","async","eventData","$903aa851c660180a$var$resetGallery","$907d61784e974f19$export$f27434f777dd4ed3","scrollTo","top","behavior","$903aa851c660180a$export$950035b07f4e6cc8","$903aa851c660180a$export$f2febb177d6b71e1","$903aa851c660180a$export$e384d1e38b4b8ac7","queue","document","querySelector","classList","add","remove","refs","list","innerHTML","$907d61784e974f19$var$listWatched","$907d61784e974f19$var$libSection","$907d61784e974f19$var$bacgroundLib","$907d61784e974f19$var$btnWatched","$907d61784e974f19$var$btnQueue","addEventListener","$907d61784e974f19$export$cc750f1fac74ca4c","$907d61784e974f19$export$e035904e86fe5c1b","$907d61784e974f19$var$localUserId","$907d61784e974f19$var$localQueue","$907d61784e974f19$var$localWatched","localWatched1","getWatchedFb","dataset","active","error","console","log","localQueue1","getQueueFb","name","localWatched2","begin","end","slice","join","$dSs1Y","Loading","custom","customSvgCode","backgroundColor","$907d61784e974f19$var$getOnlineOrOfflineStorage"],"version":3,"file":"lib.6d08b58a.js.map"}