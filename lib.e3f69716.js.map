{"mappings":"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","sources":["src/lib-index.js","src/js/lib.js","src/js/pagination-lib.js"],"sourcesContent":["import './js/scroll';\nimport './js/components/change-theme';\nimport './js/spiner';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './js/lib';\nimport './js/pagination-lib';\n\n","\n\nimport { paginationWatchid, paginationQueue } from './pagination-lib';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst listWatched = document.querySelector('.movie-list');\nconst libSection = document.querySelector('.movie-popular-lib');\nconst bacgroundLib = document.querySelector('.bacground-lib');\n\nconst btnWatched = document.querySelector('.button-watched');\nconst btnQueue = document.querySelector('.button-queue');\n\nbtnWatched.addEventListener('click', rWatched);\n\nbtnQueue.addEventListener('click', rQueue);\n\nconst localUserId = localStorage.getItem('id-user');\nlet localQueue = [];\nlet localWatched = [];\n\ngetOnlineOrOfflineStorage();\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      localWatched = await getWatchedFb(localUserId);\n      localQueue = await getQueueFb(localUserId);\n      if (localWatched.length === 0) {\n        rQueue();\n      } else {\n        rWatched();\n      }\n      Loading.remove(2000);\n    } catch (error) {\n      Loading.remove(2000);\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localWatched.length === 0) {\n      rQueue();\n    } else {\n      rWatched();\n    }\n  }\n}\n\nexport async function rWatched() {\n  getWatched('watched', 1);\n  paginationWatchid();\n  let localWatched;\n  if (localUserId) {\n    try {\n      localWatched = await getWatchedFb(localUserId);\n\n      if (localWatched.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnWatched.classList.add('button--lib-active');\n      btnQueue.classList.remove('button--lib-active');\n\n      btnWatched.dataset.active = true;\n      btnQueue.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n\n    if (localWatched.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnWatched.classList.add('button--lib-active');\n    btnQueue.classList.remove('button--lib-active');\n\n    btnWatched.dataset.active = true;\n    btnQueue.dataset.active = false;\n  }\n}\n\nexport async function rQueue() {\n  getWatched('queue', 1);\n  paginationQueue();\n\n  let localQueue;\n\n  if (localUserId) {\n    try {\n      localQueue = await getQueueFb(localUserId);\n      if (localQueue.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnQueue.classList.add('button--lib-active');\n      btnWatched.classList.remove('button--lib-active');\n\n      btnQueue.dataset.active = true;\n      btnWatched.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localQueue.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnQueue.classList.add('button--lib-active');\n    btnWatched.classList.remove('button--lib-active');\n\n    btnQueue.dataset.active = true;\n    btnWatched.dataset.active = false;\n  }\n}\n\nexport async function getWatched(name, page) {\n  let localWatched;\n  if (localUserId) {\n    try {\n      if (name === 'watched') {\n        localWatched = await getWatchedFb(localUserId);\n      } else {\n        localWatched = await getQueueFb(localUserId);\n      }\n      let begin = 20 * page - 20;\n      const end = 20 * page;\n      if (page === 1) {\n        begin = 0;\n      }\n\n      const slice = localWatched.slice(begin, end).join('');\n      listWatched.innerHTML = slice;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched'))[name];\n\n    let begin = 20 * page - 20;\n    const end = 20 * page;\n    if (page === 1) {\n      begin = 0;\n    }\n\n    const slice = localWatched.slice(begin, end).join('');\n    listWatched.innerHTML = slice;\n  }\n\n  // console.log(localWatched);\n}\n\nfunction add () {\n  addEventListener ( 'click ' , onFire())\n\n} \n ","import Pagination from 'tui-pagination';\nimport { getWatched } from './lib';\n\n\nconst localUserId = localStorage.getItem('id-user');\n\nexport function paginationWatchid() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('WatchedFb'))\n      : JSON.parse(localStorage.getItem('watched')).watched.length,\n    itemsPerPage: 9,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('watched', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 9) {\n    addHiddenPagination();\n  }\n}\n\nexport function paginationQueue() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('QueueFb'))\n      : JSON.parse(localStorage.getItem('watched')).queue.length,\n    itemsPerPage: 9,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('queue', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 9) {\n    addHiddenPagination();\n  }\n}\n\n\nexport function addHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.add('visually-hidden');\n}\n\nexport function removeHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.remove('visually-hidden');\n}\n\nfunction resetGallery() {\n  refs.list.innerHTML = '';\n}\n"],"names":["parcelRequire","$bpxeT","$4afd6e453112893f$var$localUserId","localStorage","getItem","$4afd6e453112893f$export$1f300efe7f5bc4b6","optionsPop","totalItems","JSON","parse","watched","length","itemsPerPage","visiblePages","window","screen","width","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$parcel$interopDefault","$1VFfL","on","$2TvXO","mark","_callee","eventData","$4afd6e453112893f$var$resetGallery","$e54e70c24b3c25b2$export$f27434f777dd4ed3","scrollTo","top","behavior","$4afd6e453112893f$export$950035b07f4e6cc8","$4afd6e453112893f$export$f2febb177d6b71e1","$4afd6e453112893f$export$e384d1e38b4b8ac7","queue","document","querySelector","classList","add","remove","refs","list","innerHTML","$e54e70c24b3c25b2$var$listWatched","$e54e70c24b3c25b2$var$libSection","$e54e70c24b3c25b2$var$bacgroundLib","$e54e70c24b3c25b2$var$btnWatched","$e54e70c24b3c25b2$var$btnQueue","addEventListener","$e54e70c24b3c25b2$export$cc750f1fac74ca4c","$e54e70c24b3c25b2$export$e035904e86fe5c1b","$e54e70c24b3c25b2$var$localUserId","$e54e70c24b3c25b2$var$localWatched","$e54e70c24b3c25b2$var$_getOnlineOrOfflineStorage","$7rQOT","Loading","custom","customSvgCode","backgroundColor","getWatchedFb","_ctx","sent","getQueueFb","console","log","t0","apply","this","arguments","$e54e70c24b3c25b2$var$_rWatched","dataset","active","$e54e70c24b3c25b2$var$_rQueue","name","$e54e70c24b3c25b2$var$_getWatched","localWatched2","begin","end","slice","begin1","end1","slice1","join","$e54e70c24b3c25b2$var$getOnlineOrOfflineStorage"],"version":3,"file":"lib.e3f69716.js.map"}